{% extends "layout.html" %}
{% block content %}
<style>
    .controller-box{
        text-align: center;
    }     
</style>
<script src="//code.jquery.com/jquery-3.0.0-alpha1.min.js"></script>
<script src="../static/js/joystick_elements.js"></script>
<script src="../static/js/joystick.js"></script>
<script>
    var sendCommand=(command,params={})=>{
        console.log({action:'sendCommand',command:command,params:params})   
        params['command']=command
        $.post("/api/command/",params).done((json)=>{
            console.log({action:'sendCommand',json:json})
        },'json')
    }

    $( function() {
        $( ".joystick" ).element().init({
            move:    function( x, y, rx, ry ) {},
            hold:    function() {},
            release: function() {}
        });
    });
</script>
<div class="controller-box">
    <h1>Remote Controller</h1>
</div>

<div class="controller-box">
    <div data-role="controlgroup" data-type="horizontal">
        <a href="#" data-role="button" onclick="sendCommand('takeOff'); return false">Take Off</a>
        <a href="#" data-role="button" onclick="sendCommand('land'); return false">Land</a>
    </div>
</div>

<div style="display:flex; justify-content:center;">
    <div data-jquery-element="joystick"></div>
</div>
{% endblock %}