<html>
    <head>
        <title>Drone App</title>
        <meta name="viewport" content="width=device-width, initial-scale=1, height=device-height">
        <link rel="stylesheet" href="../static/css/jquery.mobile-1.4.5.min.css" />
        <script src="../static/js/jquery-1.11.1.min.js"></script>
        <script src="../static/js/jquery.mobile-1.4.5.min.js"></script>
        <script src="//code.jquery.com/jquery-3.0.0-alpha1.min.js"></script>
        <script src="../static/js/joystick_elements.js"></script>
        <script src="../static/js/joystick.js"></script>
    </head>
    <body>
        <style>
            .controller-box{
                position:static;
                text-align: center;
            }     

            .joystick_interface{
                position:absolute;
                left:10px;
                bottom:50px;
                z-index: 1;
            }

            .controller-box .sidebar{
                position:absolute;
                left:5px;
                top:10px;
                z-index: 1;
                height:10px;
            }
            .ui-collapsible-heading-toggle{
                height:10px;
            }
            .ui-btn{
                height:10px;
            }
            .ui-link{
                font-size:10px;
            }
            .ui-collapsible-heading-toggle{
                font-size:10px;
            }
            .ui-listview{
                float:left;
            }
            .video_view{
                float:left; 
                width:100%; 
                height:auto;
                margin:0;
                padding:0;
            }
            .ui-content{
                padding:0;
            }
        </style>
        <script>
            var sendCommand=(command,params={})=>{
                console.log({action:'sendCommand',command:command,params:params})   
                params['command']=command
                $.post("/api/command/",params).done((json)=>{
                    console.log({action:'sendCommand',json:json})
                },'json')
            }

            $( function() {
                $( ".joystick" ).element().init({
                    move:    function( x, y, rx, ry ) {},
                    hold:    function() {},
                    release: function() {}
                });
            });
        </script>
        <div class="controller-box">
            <div data-role="collapsibleset" data-filter="true" data-inset="true" id="collapsiblesetForFilter" data-input="#searchForCollapsibleSet" style="width:100%;height:0px;margin:0;">
                <div data-role="collapsible" class="sidebar">
                    <h3>Side Bar</h3>
                    <ul data-role="listview" data-inset="false">
                        <li><a href="/" data-role="button">Home</a></li>
                        <li><a href="#" data-role="button" onclick="sendCommand('takeOff'); return false">Take Off</a></li>
                        <li><a href="#" data-role="button" onclick="sendCommand('land'); return false">Land</a></li>
                        <li><a href="#" data-role="button" onclick="sendCommand('stop'); return false">Hover</a></li>
                    </ul>
                </div>
            </div>
            <img src="../static/img/video_view.jpg" class="video_view">
        </div>
        <div class="joystick_interface" style="display:flex; float:left;">
            <div data-jquery-element="joystick"></div>
        </div>
    </body>
</html>

